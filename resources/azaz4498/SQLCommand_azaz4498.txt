//建立論壇文章表格
  CREATE TABLE "III_TEAM_DBA"."F_ARTICLE" 
   (	"ART_CONTENT" CLOB NOT NULL ENABLE, 
	"ART_CRE_TIME" DATE NOT NULL ENABLE, 
	"ART_USERID" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"ART_COMM_NUM" NUMBER(*,0), 
	"ART_VIEW" NUMBER(*,0), 
	"ART_ID" NUMBER(*,0) NOT NULL ENABLE, 
	"ART_TYPE_ID" NUMBER, 
	"ART_TITLE" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"ART_PIC" VARCHAR2(255 BYTE), 
	 CONSTRAINT "ARTICLE_PK" PRIMARY KEY ("ART_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "TYPE_ID" FOREIGN KEY ("ART_TYPE_ID")
	  REFERENCES "III_TEAM_DBA"."F_ART_TYPE" ("TYPE_ID") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" 
 LOB ("ART_CONTENT") STORE AS SECUREFILE (
  TABLESPACE "USERS" ENABLE STORAGE IN ROW CHUNK 8192
  NOCACHE LOGGING  NOCOMPRESS  KEEP_DUPLICATES 
  STORAGE(INITIAL 106496 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)) ;

   COMMENT ON COLUMN "III_TEAM_DBA"."F_ARTICLE"."ART_CRE_TIME" IS '建立時間';
   COMMENT ON COLUMN "III_TEAM_DBA"."F_ARTICLE"."ART_COMM_NUM" IS '評論數';
   COMMENT ON COLUMN "III_TEAM_DBA"."F_ARTICLE"."ART_VIEW" IS '文章觀看數';
   COMMENT ON COLUMN "III_TEAM_DBA"."F_ARTICLE"."ART_TYPE_ID" IS '文章分類';

  CREATE OR REPLACE EDITIONABLE TRIGGER "III_TEAM_DBA"."ART_ID_TRIGGER" 
   before insert on "III_TEAM_DBA"."F_ARTICLE" 
   for each row 
begin  
   if inserting then 
      if :NEW."ART_ID" is null then 
         select ARTID_SEQUENCE.nextval into :NEW."ART_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "III_TEAM_DBA"."ART_ID_TRIGGER" ENABLE;

//文章類別表格

    CREATE TABLE "III_TEAM_DBA"."F_ART_TYPE" 
   (	"TYPE_ID" NUMBER(*,0) NOT NULL ENABLE, 
	"TYPE_NAME" VARCHAR2(225 BYTE) NOT NULL ENABLE, 
	 CONSTRAINT "F_ART_TYPE_PK" PRIMARY KEY ("TYPE_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

//文章評論表格


CREATE TABLE "III_TEAM_DBA"."F_COMMENT" 
   (	"COM_ID" NUMBER NOT NULL ENABLE, 
	"COM_CONTENT" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"COM_ART_ID" NUMBER NOT NULL ENABLE, 
	"COM_USER_ID" VARCHAR2(255 BYTE) NOT NULL ENABLE, 
	"COM_DATE" DATE NOT NULL ENABLE, 
	"COM_PIC" VARCHAR2(255 BYTE), 
	 CONSTRAINT "F_COMMENT_PK" PRIMARY KEY ("COM_ID")
  USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS 
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS"  ENABLE, 
	 CONSTRAINT "COM_ART_ID" FOREIGN KEY ("COM_ART_ID")
	  REFERENCES "III_TEAM_DBA"."F_ARTICLE" ("ART_ID") ENABLE
   ) SEGMENT CREATION IMMEDIATE 
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 
 NOCOMPRESS LOGGING
  STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645
  PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1
  BUFFER_POOL DEFAULT FLASH_CACHE DEFAULT CELL_FLASH_CACHE DEFAULT)
  TABLESPACE "USERS" ;

  CREATE OR REPLACE EDITIONABLE TRIGGER "III_TEAM_DBA"."COMMENT_TRIGGER" 
   before insert on "III_TEAM_DBA"."F_COMMENT" 
   for each row 
begin  
   if inserting then 
      if :NEW."COM_ID" is null then 
         select COMID_SEQUENCE.nextval into :NEW."COM_ID" from dual; 
      end if; 
   end if; 
end;

/
ALTER TRIGGER "III_TEAM_DBA"."COMMENT_TRIGGER" ENABLE;




